<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta id="referrer" name="referrer" content="never" />
    <!-- <meta id="referrer" name="referrer" content="always" /> -->
    <title>arduino | Kinron</title>
    <meta name="description" content="">
    <link rel="icon" href="/assets/Kin.ico">
    <meta name="description" content="Kinron的博客">
    <link rel="preload" href="/assets/css/0.styles.7868826c.css" as="style"><link rel="preload" href="/assets/js/app.1de21937.js" as="script"><link rel="preload" href="/assets/js/2.babf9956.js" as="script"><link rel="preload" href="/assets/js/3.f7a383b9.js" as="script"><link rel="prefetch" href="/assets/js/10.9a78a311.js"><link rel="prefetch" href="/assets/js/11.74ddce8a.js"><link rel="prefetch" href="/assets/js/12.2b73f09d.js"><link rel="prefetch" href="/assets/js/13.8bf4a831.js"><link rel="prefetch" href="/assets/js/14.bf5ff51f.js"><link rel="prefetch" href="/assets/js/15.ed381b58.js"><link rel="prefetch" href="/assets/js/16.80c4a0d4.js"><link rel="prefetch" href="/assets/js/17.82fc1443.js"><link rel="prefetch" href="/assets/js/18.2e9f710d.js"><link rel="prefetch" href="/assets/js/19.4eed8fe9.js"><link rel="prefetch" href="/assets/js/20.469934de.js"><link rel="prefetch" href="/assets/js/21.e3fa6ba0.js"><link rel="prefetch" href="/assets/js/22.0beaf5d2.js"><link rel="prefetch" href="/assets/js/23.130fd327.js"><link rel="prefetch" href="/assets/js/24.8ce3b24e.js"><link rel="prefetch" href="/assets/js/25.271b9599.js"><link rel="prefetch" href="/assets/js/26.f941e174.js"><link rel="prefetch" href="/assets/js/27.84344e54.js"><link rel="prefetch" href="/assets/js/28.3bfecc37.js"><link rel="prefetch" href="/assets/js/29.90b3c688.js"><link rel="prefetch" href="/assets/js/30.451cb54c.js"><link rel="prefetch" href="/assets/js/31.357799d4.js"><link rel="prefetch" href="/assets/js/32.784d0958.js"><link rel="prefetch" href="/assets/js/33.9403c62c.js"><link rel="prefetch" href="/assets/js/34.f5ac41fd.js"><link rel="prefetch" href="/assets/js/35.e4d98414.js"><link rel="prefetch" href="/assets/js/36.e1e79ec0.js"><link rel="prefetch" href="/assets/js/37.396e39ce.js"><link rel="prefetch" href="/assets/js/38.da0df9cc.js"><link rel="prefetch" href="/assets/js/39.170595e3.js"><link rel="prefetch" href="/assets/js/4.b7832e17.js"><link rel="prefetch" href="/assets/js/5.8ff97832.js"><link rel="prefetch" href="/assets/js/6.7f764e25.js"><link rel="prefetch" href="/assets/js/7.46596a68.js"><link rel="prefetch" href="/assets/js/8.addc605c.js"><link rel="prefetch" href="/assets/js/9.8fa6be7e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7868826c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/Kin.ico" alt="Kinron" class="logo"> <span class="site-name can-hide">Kinron</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/abandon/" class="nav-link router-link-active">
  旧版
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/abandon/" class="nav-link router-link-active">
  旧版
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>旧版笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/abandon/JS.html" class="sidebar-link">JavaScript</a></li><li><a href="/abandon/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/abandon/vue.html" class="sidebar-link">Vue</a></li><li><a href="/abandon/uniapp.html" class="sidebar-link">uniapp</a></li><li><a href="/abandon/TS.html" class="sidebar-link">Typescript</a></li><li><a href="/abandon/nuxt.html" class="sidebar-link">Nuxt</a></li><li><a href="/abandon/lodash.html" class="sidebar-link">lodash</a></li><li><a href="/abandon/react.html" class="sidebar-link">React</a></li><li><a href="/abandon/angular.html" class="sidebar-link">Angular</a></li><li><a href="/abandon/babylon.html" class="sidebar-link">babylon</a></li><li><a href="/abandon/eslint.html" class="sidebar-link">eslint</a></li><li><a href="/abandon/rule.html" class="sidebar-link">代码规范</a></li><li><a href="/abandon/linr.html" class="sidebar-link">常用方法</a></li><li><a href="/abandon/java.html" class="sidebar-link">Java</a></li><li><a href="/abandon/arduino.html" aria-current="page" class="active sidebar-link">arduino</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abandon/arduino.html#定义引脚" class="sidebar-link">定义引脚</a></li><li class="sidebar-sub-header"><a href="/abandon/arduino.html#时间函数" class="sidebar-link">时间函数</a></li><li class="sidebar-sub-header"><a href="/abandon/arduino.html#数学函数" class="sidebar-link">数学函数</a></li><li class="sidebar-sub-header"><a href="/abandon/arduino.html#引脚图" class="sidebar-link">引脚图</a></li><li class="sidebar-sub-header"><a href="/abandon/arduino.html#电子器件控制" class="sidebar-link">电子器件控制</a></li><li class="sidebar-sub-header"><a href="/abandon/arduino.html#项目实战" class="sidebar-link">项目实战</a></li></ul></li><li><a href="/abandon/other.html" class="sidebar-link">other</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="arduino"><a href="#arduino" class="header-anchor">#</a> arduino</h1> <h2 id="定义引脚"><a href="#定义引脚" class="header-anchor">#</a> 定义引脚</h2> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">//定义初始化，如引脚的输入输出</span>
<span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">//用来定义整个芯片主要重复动作的区域</span>
<span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token operator">/</span><span class="token keyword">long</span><span class="token comment">//无符号整型/长整型</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token comment">//数组</span>
<span class="token function">pinMode</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> mode<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//数字I0口输入输出模式定义函数，pin表示为0~13，mode表示为INPUT或OUTPUT。</span>
<span class="token function">digitalWrite</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//数字IO口输出电平定义函数，pin表示为0~13，value表示为HGH或LOW。比如定义HIGH可以驱动LED。</span>
<span class="token function">digtulRead</span><span class="token punctuation">(</span>pin<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//数字I0口读输入电平函数，pin 表示为0~13, value表示为HIGH或LOW。比如可以读数字传感器。</span>
<span class="token function">analogRead</span><span class="token punctuation">(</span>pin<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//模拟IO口读函数，pin 表示为0~5 (Arduino Dieaimila为0~5，Arduino nano为0~7)。比如可以读模拟传感器(10位AD，0~5V表示为0~1023)。</span>
<span class="token function">analogWrite</span><span class="token punctuation">(</span>pin<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//PWM数字I0口PWM输出函数，Arduino数字I0口标注了PWM的IO口可使用该函数，pin表示3,5,6, 9, 10, value表示为0~255。比如可用于电机PWM调速或音乐播放。</span>
</code></pre></div><h2 id="时间函数"><a href="#时间函数" class="header-anchor">#</a> 时间函数</h2> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">delay</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span> <span class="token comment">//延时函数(单位ms)。</span>
<span class="token function">delayMicroneconds</span><span class="token punctuation">(</span>us<span class="token punctuation">)</span> <span class="token comment">//延时函数(单位us)。</span>
</code></pre></div><h2 id="数学函数"><a href="#数学函数" class="header-anchor">#</a> 数学函数</h2> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">min</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token comment">//求最小值,max(x, y)：求最大值,abs(x)：计算绝对值。</span>
<span class="token function">constrain</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment">//若x&lt;a,则返回a；若a&lt;x&lt;b,则返回x；若x&gt;b,则返回b。</span>
<span class="token function">map</span><span class="token punctuation">(</span>salue<span class="token punctuation">,</span> fromlow<span class="token punctuation">,</span> fromHigh<span class="token punctuation">,</span> tolow<span class="token punctuation">,</span> toHigh<span class="token punctuation">)</span> <span class="token comment">//约束函数，value 必须在fromlow与tolow之间和fromHigh与toHigh之间。</span>
<span class="token keyword">long</span> <span class="token function">random</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span>max<span class="token punctuation">)</span> <span class="token comment">//在此区间产生一个随机数，最小值默认为0。</span>
<span class="token function">pow</span><span class="token punctuation">(</span>hase<span class="token punctuation">,</span> exponent<span class="token punctuation">)</span> <span class="token comment">//开方函数，base 的exponent次方。</span>
<span class="token function">sq</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">//平方</span>
<span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">//开根号</span>
</code></pre></div><h2 id="引脚图"><a href="#引脚图" class="header-anchor">#</a> 引脚图</h2> <ul><li>nano原理图</li></ul> <img src="/assets/img/nano原理图.f35b72e3.jpg"> <ul><li>uno原理图</li></ul> <img src="/assets/img/uno原理图.a694ed00.jpg"> <ul><li>按钮接法</li></ul> <img src="/assets/img/按钮接法.dd15a934.png"> <ul><li>电位器</li></ul> <img src="data:image/jpeg;base64,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"> <h2 id="电子器件控制"><a href="#电子器件控制" class="header-anchor">#</a> 电子器件控制</h2> <ul><li>超声波传感器</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LED</span> <span class="token expression">A5</span></span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>A3<span class="token punctuation">,</span> INPUT<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//接传感器的Echo引脚</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>A4<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//接传感器的Trlg引脚</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>LED<span class="token punctuation">,</span>OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//定义A5为LED输出引脚</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//开始频率</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>A4<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delayMicroseconds</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>A4<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delayMicroseconds</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>A4<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">float</span> distance <span class="token operator">=</span> <span class="token function">pulseIn</span><span class="token punctuation">(</span>A3<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">58.00</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>distance<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>distance<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//当距离小于20cm时，点亮LED</span>
    <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED<span class="token punctuation">,</span>HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED<span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>操纵杆</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LED</span> <span class="token expression">A6</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LED1</span> <span class="token expression">A2</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LED2</span> <span class="token expression">A1</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LED3</span> <span class="token expression">A0</span></span>
<span class="token keyword">int</span> value <span class="token operator">=</span> A3<span class="token punctuation">;</span> 
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 <span class="token function">pinMode</span><span class="token punctuation">(</span>A7<span class="token punctuation">,</span> INPUT_PULLUP<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token function">pinMode</span><span class="token punctuation">(</span>LED<span class="token punctuation">,</span>OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">pinMode</span><span class="token punctuation">(</span>LED1<span class="token punctuation">,</span>OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">pinMode</span><span class="token punctuation">(</span>LED2<span class="token punctuation">,</span>OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">pinMode</span><span class="token punctuation">(</span>LED3<span class="token punctuation">,</span>OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
 Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 value <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>A3<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;X:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> DEC<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 value <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>A4<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot; | Y:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> DEC<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 value <span class="token operator">=</span> <span class="token function">digitalRead</span><span class="token punctuation">(</span>A7<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot; | Z: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> DEC<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">analogRead</span><span class="token punctuation">(</span>A3<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED1<span class="token punctuation">,</span>HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED1<span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">analogRead</span><span class="token punctuation">(</span>A3<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED3<span class="token punctuation">,</span>HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED3<span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">analogRead</span><span class="token punctuation">(</span>A4<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED2<span class="token punctuation">,</span>HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED2<span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">analogRead</span><span class="token punctuation">(</span>A4<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED<span class="token punctuation">,</span>HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span><span class="token punctuation">{</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>LED<span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>电机</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> motorPin <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span> <span class="token comment">//定义电机连接引脚</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>motorPin<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token comment">//motorOnThenOff();</span>
  <span class="token comment">//motorOnThenOffWithSpeed();</span>
  <span class="token function">motorAcceleration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//关闭电机</span>
<span class="token keyword">void</span> <span class="token function">motorOnThenOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">int</span> onTime <span class="token operator">=</span> <span class="token number">2500</span><span class="token punctuation">;</span> <span class="token comment">//调节开关占空比，也可使用PWM模拟输出方式</span>
  <span class="token keyword">int</span> offTime <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>motorPin<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span>onTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">digitalWrite</span><span class="token punctuation">(</span>motorPin<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span>offTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//电机以特定速度启停</span>
<span class="token keyword">void</span> <span class="token function">motorOnThenOffWithSpeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">int</span> onSpeed <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> onTime <span class="token operator">=</span> <span class="token number">2500</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> offSpeed <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> offTime <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
  <span class="token function">analogWrite</span><span class="token punctuation">(</span>motorPin<span class="token punctuation">,</span> onSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span>onTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">analogWrite</span><span class="token punctuation">(</span>motorPin<span class="token punctuation">,</span> offSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span>offTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//电机变速</span>
<span class="token keyword">void</span> <span class="token function">motorAcceleration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">int</span> delayTime <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token comment">//调整速度的时间间隔</span>
  <span class="token comment">//电机加速</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">256</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">analogWrite</span><span class="token punctuation">(</span>motorPin<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span>delayTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//电机减速</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">analogWrite</span><span class="token punctuation">(</span>motorPin<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span>delayTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>红外线</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;IRremote.h&gt;</span></span>
<span class="token keyword">int</span> RECV_PIN <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
IRrecv <span class="token function">irrecv</span><span class="token punctuation">(</span>RECV_PIN<span class="token punctuation">)</span><span class="token punctuation">;</span>
decode_results results<span class="token punctuation">;</span> <span class="token comment">// 用于存储编码结果的对象</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化串口通信</span>
  irrecv<span class="token punctuation">.</span><span class="token function">enableIRIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化红外解码</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>irrecv<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//Serial.println(results.value,HEX);</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    irrecv<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 接收下一个编码</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>蓝牙</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;SoftwareSerial.h&gt;</span></span>
SoftwareSerial <span class="token function">BT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">char</span> a<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>A0<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>
  BT<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>BT<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    a <span class="token operator">=</span> <span class="token punctuation">(</span>BT<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>A0<span class="token punctuation">,</span>HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>A0<span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>声音传感器</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> micPin <span class="token operator">=</span> A4<span class="token punctuation">;</span><span class="token comment">//麦克风型号输入端口</span>
<span class="token keyword">int</span> ledPin <span class="token operator">=</span> A3<span class="token punctuation">;</span><span class="token comment">//LED端口</span>
<span class="token keyword">int</span> micVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//麦克风音量值</span>
boolean toggle <span class="token operator">=</span> false<span class="token punctuation">;</span><span class="token comment">//LED的状态。默认为不量</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span>ledPin<span class="token punctuation">,</span>OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//LED端口设置为“输出”</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//读取麦克风的音量，此电路的最高值为790</span>
  micVal <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>micPin<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//如果音量大于500</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>micVal <span class="token operator">&gt;</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//显示音量值</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>micVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    toggle <span class="token operator">=</span> <span class="token operator">!</span>toggle<span class="token punctuation">;</span>
    <span class="token comment">//如果toggle的值是true</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>toggle<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>ledPin<span class="token punctuation">,</span>HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//LED点亮</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token function">digitalWrite</span><span class="token punctuation">(</span>ledPin<span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//LED熄灭</span>
    <span class="token punctuation">}</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="项目实战"><a href="#项目实战" class="header-anchor">#</a> 项目实战</h2> <ul><li>舵机自学机械臂</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Servo.h&gt;</span> <span class="token comment">//舵机头文件</span></span>
Servo servo_0<span class="token punctuation">,</span>servo_1<span class="token punctuation">,</span>servo_2<span class="token punctuation">,</span>servo_3<span class="token punctuation">;</span> <span class="token comment">//定义4个舵机</span>
<span class="token keyword">int</span> sensorPin0 <span class="token operator">=</span> A4<span class="token punctuation">,</span>sensorPin1 <span class="token operator">=</span> A5<span class="token punctuation">,</span>sensorPin2 <span class="token operator">=</span> A6<span class="token punctuation">,</span>sensorPin3 <span class="token operator">=</span> A7<span class="token punctuation">;</span>  <span class="token comment">//电位器阻值输入口</span>
<span class="token keyword">int</span> SensVal_0<span class="token punctuation">,</span>SensVal_1<span class="token punctuation">,</span>SensVal_2<span class="token punctuation">,</span>SensVal_3<span class="token punctuation">;</span> <span class="token comment">//电位器临时值</span>
boolean playmode <span class="token operator">=</span> false<span class="token punctuation">;</span> <span class="token comment">//模式判断</span>
<span class="token keyword">float</span> angle0<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>angle1<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>angle2<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>angle3<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 角度存储数组</span>
<span class="token keyword">float</span> dif<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>temp<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">,</span>stepsMax<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>num1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>key_value<span class="token punctuation">,</span>del<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> INPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 按钮输入口</span>
  servo_0<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A0<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_1<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  servo_2<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A2<span class="token punctuation">)</span><span class="token punctuation">;</span>servo_3<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 连接舵机</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>playmode <span class="token operator">==</span> false<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//学习模式</span>
    SensVal_1 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读取电位器阻值</span>
    SensVal_1 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将电位器阻值与舵机角度映射，实现两个机械臂的同步</span>
    SensVal_0 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_0 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_2 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_2 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_3 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_3 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    servo_0<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_1<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    servo_2<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_3<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//控制主机械臂跟随从机械臂运行</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">//运行模式</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      temp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>temp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//暂存当前动作角度值</span>
      j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment">//指向下一个动作</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span>num<span class="token punctuation">)</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
      dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>angle0<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>angle1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>angle2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>angle3<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//下一动作与当前动作做差分      </span>
      stepsMax <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stepsMax <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>stepsMax<span class="token punctuation">,</span>dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stepsMax <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>stepsMax<span class="token punctuation">,</span>dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//找出最大差分值</span>
      <span class="token comment">//将两个动作分为最大差分值个小动作，即用每个舵机的差分值除以最大差分值</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>angle0<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">-</span>dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span> <span class="token keyword">else</span> dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>angle1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">-</span>dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span> <span class="token keyword">else</span> dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>angle2<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">-</span>dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span> <span class="token keyword">else</span> dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>angle3<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">-</span>dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span> <span class="token keyword">else</span> dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span>      
      <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>stepsMax<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 运行至下一大动作</span>
        angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//运行到下一小动作         </span>
        servo_0<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>servo_1<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        servo_2<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>servo_3<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//返回暂存的动作值</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token function">Button</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//按键检测</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">Button</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//按键检测</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//消抖</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        key_value <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> true<span class="token punctuation">)</span> key_value <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//长按进入运行模式</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>key_value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 记录舵机当前位置</span>
     angle0<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token operator">=</span>SensVal_0<span class="token punctuation">;</span>angle1<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token operator">=</span>SensVal_1<span class="token punctuation">;</span>
     angle2<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token operator">=</span>SensVal_2<span class="token punctuation">;</span>angle3<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token operator">=</span>SensVal_3<span class="token punctuation">;</span>
     num1<span class="token operator">++</span><span class="token punctuation">;</span>                    <span class="token comment">//指针加1</span>
     key_value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
     playmode <span class="token operator">=</span> false<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key_value <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      num <span class="token operator">=</span> num1<span class="token punctuation">;</span>               <span class="token comment">//取出动作的总数</span>
      num1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>                   <span class="token comment">//为下一次学习做准备</span>
      playmode <span class="token operator">=</span> true<span class="token punctuation">;</span>          <span class="token comment">//运行模式</span>
      key_value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>红外自学机械臂</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;IRremote.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Servo.h&gt;</span> <span class="token comment">//舵机头文件</span></span>
Servo servo_0<span class="token punctuation">,</span>servo_1<span class="token punctuation">,</span>servo_2<span class="token punctuation">,</span>servo_3<span class="token punctuation">;</span> <span class="token comment">//定义4个舵机</span>
<span class="token keyword">int</span> RECV_PIN <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
IRrecv <span class="token function">irrecv</span><span class="token punctuation">(</span>RECV_PIN<span class="token punctuation">)</span><span class="token punctuation">;</span>
decode_results results<span class="token punctuation">;</span> <span class="token comment">// 用于存储编码结果的对象</span>
<span class="token keyword">int</span> sensorPin0 <span class="token operator">=</span> A4<span class="token punctuation">,</span>sensorPin1 <span class="token operator">=</span> A5<span class="token punctuation">,</span>sensorPin2 <span class="token operator">=</span> A6<span class="token punctuation">,</span>sensorPin3 <span class="token operator">=</span> A7<span class="token punctuation">;</span>  <span class="token comment">//电位器阻值输入口</span>
<span class="token keyword">int</span> SensVal_0<span class="token punctuation">,</span>SensVal_1<span class="token punctuation">,</span>SensVal_2<span class="token punctuation">,</span>SensVal_3<span class="token punctuation">;</span> <span class="token comment">//电位器临时值</span>
boolean TT <span class="token operator">=</span> false<span class="token punctuation">;</span>
<span class="token keyword">int</span> tmp0<span class="token punctuation">,</span>nums <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> INPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 按钮输入口</span>
  servo_0<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A0<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_1<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  servo_2<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A2<span class="token punctuation">)</span><span class="token punctuation">;</span>servo_3<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 连接舵机</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化串口通信</span>
  irrecv<span class="token punctuation">.</span><span class="token function">enableIRIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化红外解码</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>TT <span class="token operator">==</span> false<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//调整模式</span>
    SensVal_1 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读取电位器阻值</span>
    SensVal_1 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将电位器阻值与舵机角度映射，实现两个机械臂的同步</span>
    SensVal_0 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_0 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_2 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_2 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_3 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_3 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tmp0 <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">(</span>SensVal_1 <span class="token operator">-</span> SensVal_2<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//协同两个舵机</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>SensVal_1 <span class="token operator">&gt;</span> SensVal_2<span class="token punctuation">)</span><span class="token punctuation">{</span>
      SensVal_1 <span class="token operator">-=</span> tmp0<span class="token punctuation">;</span>
      SensVal_2 <span class="token operator">+=</span> tmp0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      SensVal_1 <span class="token operator">+=</span> tmp0<span class="token punctuation">;</span>
      SensVal_2 <span class="token operator">-=</span> tmp0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    servo_0<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_1<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    servo_2<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_3<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span> <span class="token comment">//遥控模式</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>irrecv<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16718055</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//向前</span>
          SensVal_1 <span class="token operator">-=</span> <span class="token number">30</span><span class="token punctuation">;</span>
          SensVal_2 <span class="token operator">-=</span> <span class="token number">30</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16730805</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//向后</span>
          SensVal_1 <span class="token operator">+=</span> <span class="token number">30</span><span class="token punctuation">;</span>
          SensVal_2 <span class="token operator">+=</span> <span class="token number">30</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16716015</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//向上</span>
          SensVal_1 <span class="token operator">-=</span> <span class="token number">50</span><span class="token punctuation">;</span>
          SensVal_2 <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16734885</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//向下</span>
          SensVal_1 <span class="token operator">+=</span> <span class="token number">50</span><span class="token punctuation">;</span>
          SensVal_2 <span class="token operator">-=</span> <span class="token number">20</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16738455</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//左转</span>
          SensVal_0 <span class="token operator">+=</span> <span class="token number">50</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16756815</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//右转</span>
          SensVal_0 <span class="token operator">-=</span> <span class="token number">50</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16726215</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//臂夹</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            SensVal_3 <span class="token operator">+=</span> <span class="token number">100</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            SensVal_3 <span class="token operator">-=</span> <span class="token number">100</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>nums <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      irrecv<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 接收下一个编码</span>
      servo_0<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">)</span><span class="token punctuation">;</span>servo_3<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">)</span><span class="token punctuation">;</span>
      servo_1<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">)</span><span class="token punctuation">;</span>servo_2<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//消抖</span>
    TT <span class="token operator">=</span> not TT<span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>LED红外自学机械臂</li></ul> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Servo.h&gt;</span> <span class="token comment">//舵机头文件</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;IRremote.h&gt;</span> <span class="token comment">//红外头文件</span></span>
<span class="token keyword">int</span> RECV_PIN <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> tt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> nums <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> tmp0<span class="token punctuation">;</span>
IRrecv <span class="token function">irrecv</span><span class="token punctuation">(</span>RECV_PIN<span class="token punctuation">)</span><span class="token punctuation">;</span>
decode_results results<span class="token punctuation">;</span> <span class="token comment">// 用于存储编码结果的对象</span>
Servo servo_0<span class="token punctuation">,</span>servo_1<span class="token punctuation">,</span>servo_2<span class="token punctuation">,</span>servo_3<span class="token punctuation">;</span> <span class="token comment">//定义4个舵机</span>
<span class="token keyword">int</span> sensorPin0 <span class="token operator">=</span> A4<span class="token punctuation">,</span>sensorPin1 <span class="token operator">=</span> A5<span class="token punctuation">,</span>sensorPin2 <span class="token operator">=</span> A6<span class="token punctuation">,</span>sensorPin3 <span class="token operator">=</span> A7<span class="token punctuation">;</span>  <span class="token comment">//电位器阻值输入口</span>
<span class="token keyword">int</span> SensVal_0<span class="token punctuation">,</span>SensVal_1<span class="token punctuation">,</span>SensVal_2<span class="token punctuation">,</span>SensVal_3<span class="token punctuation">;</span> <span class="token comment">//电位器临时值</span>
boolean playmode <span class="token operator">=</span> false<span class="token punctuation">,</span>TT <span class="token operator">=</span> false<span class="token punctuation">,</span>Ledtf <span class="token operator">=</span> false<span class="token punctuation">,</span>Watertf <span class="token operator">=</span> false<span class="token punctuation">;</span> <span class="token comment">//模式判断</span>
<span class="token keyword">float</span> angle0<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>angle1<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>angle2<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>angle3<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 角度存储数组</span>
<span class="token keyword">float</span> dif<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>temp<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">,</span>stepsMax<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>num1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>key_value<span class="token punctuation">,</span>del<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> INPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 按钮输入口</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//LED输出口</span>
  <span class="token function">pinMode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//LED输出口</span>
  servo_0<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A0<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_1<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  servo_2<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A2<span class="token punctuation">)</span><span class="token punctuation">;</span>servo_3<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>A3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 连接舵机</span>
  irrecv<span class="token punctuation">.</span><span class="token function">enableIRIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化红外解码</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token function">begins</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>irrecv<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//主控函数</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16753245</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//按1进入自主学习模式</span>
      tt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16736925</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//按2进入遥控模式</span>
      tt <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16769565</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//按3打开灯光</span>
      tt <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
      Ledtf <span class="token operator">=</span> not Ledtf<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16720605</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//按4进入呼吸灯</span>
      tt <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16712445</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      tt <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
      Watertf <span class="token operator">=</span> not Watertf<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    irrecv<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>tt <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Study</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//自主学习</span>
  <span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>tt <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Contrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//遥控控制</span>
  <span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>tt <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">LED</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//灯光控制</span>
  <span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>tt <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">LongLed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//呼吸灯</span>
  <span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>tt <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">waterled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//流水灯</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">begins</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//原初始位置设置</span>
  SensVal_1 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读取电位器阻值</span>
  SensVal_1 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将电位器阻值与舵机角度映射，实现两个机械臂的同步</span>
  SensVal_0 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  SensVal_0 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  SensVal_2 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  SensVal_2 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  SensVal_3 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  SensVal_3 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  servo_0<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_1<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  servo_2<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_3<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//控制主机械臂跟随从机械臂运行</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Study</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//自主学习</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>playmode <span class="token operator">==</span> false<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//学习模式</span>
    <span class="token function">begins</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">//运行模式</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      temp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>temp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//暂存当前动作角度值</span>
      j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment">//指向下一个动作</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span>num<span class="token punctuation">)</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
      dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>angle0<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>angle1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>angle2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>angle3<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//下一动作与当前动作做差分      </span>
      stepsMax <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stepsMax <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>stepsMax<span class="token punctuation">,</span>dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stepsMax <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>stepsMax<span class="token punctuation">,</span>dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//找出最大差分值</span>
      <span class="token comment">//将两个动作分为最大差分值个小动作，即用每个舵机的差分值除以最大差分值</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>angle0<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">-</span>dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span> <span class="token keyword">else</span> dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>angle1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">-</span>dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span> <span class="token keyword">else</span> dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>angle2<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">-</span>dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span> <span class="token keyword">else</span> dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>angle3<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">-</span>dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span> <span class="token keyword">else</span> dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">/</span>stepsMax<span class="token punctuation">;</span>      
      <span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>stepsMax<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 运行至下一大动作</span>
        angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dif<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dif<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dif<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> dif<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//运行到下一小动作         </span>
        servo_0<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>servo_1<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        servo_2<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>servo_3<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      angle0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>angle1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      angle2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>angle3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//返回暂存的动作值</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token comment">//button按键检测</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//消抖</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        key_value <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> true<span class="token punctuation">)</span> key_value <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//长按进入运行模式</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>key_value <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 记录舵机当前位置</span>
     angle0<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token operator">=</span>SensVal_0<span class="token punctuation">;</span>angle1<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token operator">=</span>SensVal_1<span class="token punctuation">;</span>
     angle2<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token operator">=</span>SensVal_2<span class="token punctuation">;</span>angle3<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token operator">=</span>SensVal_3<span class="token punctuation">;</span>
     num1<span class="token operator">++</span><span class="token punctuation">;</span>                    <span class="token comment">//指针加1</span>
     key_value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
     playmode <span class="token operator">=</span> false<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key_value <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      num <span class="token operator">=</span> num1<span class="token punctuation">;</span>               <span class="token comment">//取出动作的总数</span>
      num1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>                   <span class="token comment">//为下一次学习做准备</span>
      playmode <span class="token operator">=</span> true<span class="token punctuation">;</span>          <span class="token comment">//运行模式</span>
      key_value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Contrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//遥控控制</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>TT <span class="token operator">==</span> false<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//调整模式</span>
    SensVal_1 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读取电位器阻值</span>
    SensVal_1 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将电位器阻值与舵机角度映射，实现两个机械臂的同步</span>
    SensVal_0 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_0 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_2 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_2 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_3 <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>sensorPin3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SensVal_3 <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    tmp0 <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">(</span>SensVal_1 <span class="token operator">-</span> SensVal_2<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//协同舵机1,2</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>SensVal_1 <span class="token operator">&gt;</span> SensVal_2<span class="token punctuation">)</span><span class="token punctuation">{</span>
      SensVal_1 <span class="token operator">-=</span> tmp0<span class="token punctuation">;</span>
      SensVal_2 <span class="token operator">+=</span> tmp0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      SensVal_1 <span class="token operator">+=</span> tmp0<span class="token punctuation">;</span>
      SensVal_2 <span class="token operator">-=</span> tmp0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    servo_0<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_1<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    servo_2<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">)</span><span class="token punctuation">;</span> servo_3<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span> <span class="token comment">//遥控模式</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>irrecv<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//      Serial.println(results.value);</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16718055</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//向前</span>
          SensVal_1 <span class="token operator">-=</span> <span class="token number">30</span><span class="token punctuation">;</span>
          SensVal_2 <span class="token operator">-=</span> <span class="token number">30</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16730805</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//向后</span>
          SensVal_1 <span class="token operator">+=</span> <span class="token number">30</span><span class="token punctuation">;</span>
          SensVal_2 <span class="token operator">+=</span> <span class="token number">30</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16716015</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//向上</span>
          SensVal_1 <span class="token operator">-=</span> <span class="token number">50</span><span class="token punctuation">;</span>
          SensVal_2 <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16734885</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//向下</span>
          SensVal_1 <span class="token operator">+=</span> <span class="token number">50</span><span class="token punctuation">;</span>
          SensVal_2 <span class="token operator">-=</span> <span class="token number">20</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16738455</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//左转</span>
          SensVal_0 <span class="token operator">+=</span> <span class="token number">50</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16756815</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//右转</span>
          SensVal_0 <span class="token operator">-=</span> <span class="token number">50</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>results<span class="token punctuation">.</span>value <span class="token operator">==</span> <span class="token number">16726215</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//臂夹</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            SensVal_3 <span class="token operator">+=</span> <span class="token number">100</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            SensVal_3 <span class="token operator">-=</span> <span class="token number">100</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>nums <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      irrecv<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 接收下一个编码</span>
      servo_0<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_0<span class="token punctuation">)</span><span class="token punctuation">;</span>servo_3<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_3<span class="token punctuation">)</span><span class="token punctuation">;</span>
      servo_1<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_1<span class="token punctuation">)</span><span class="token punctuation">;</span>servo_2<span class="token punctuation">.</span><span class="token function">writeMicroseconds</span><span class="token punctuation">(</span>SensVal_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">digitalRead</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//消抖</span>
    TT <span class="token operator">=</span> not TT<span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">LED</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Ledtf <span class="token operator">==</span> true<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">LongLed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">255</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>i<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">analogWrite</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">waterled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Watertf <span class="token operator">==</span> true<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token function">digitalWrite</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/abandon/java.html" class="prev">
        Java
      </a></span> <span class="next"><a href="/abandon/other.html">
        other
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1de21937.js" defer></script><script src="/assets/js/2.babf9956.js" defer></script><script src="/assets/js/3.f7a383b9.js" defer></script>
  </body>
</html>