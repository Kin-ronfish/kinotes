<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta id="referrer" name="referrer" content="never" />
    <!-- <meta id="referrer" name="referrer" content="always" /> -->
    <title>JavaScript | Kinron</title>
    <meta name="description" content="">
    <link rel="icon" href="/assets/Kin.ico">
    <meta name="description" content="Kinron的博客">
    <link rel="preload" href="/assets/css/0.styles.7868826c.css" as="style"><link rel="preload" href="/assets/js/app.1de21937.js" as="script"><link rel="preload" href="/assets/js/2.babf9956.js" as="script"><link rel="preload" href="/assets/js/12.2b73f09d.js" as="script"><link rel="prefetch" href="/assets/js/10.9a78a311.js"><link rel="prefetch" href="/assets/js/11.74ddce8a.js"><link rel="prefetch" href="/assets/js/13.8bf4a831.js"><link rel="prefetch" href="/assets/js/14.bf5ff51f.js"><link rel="prefetch" href="/assets/js/15.ed381b58.js"><link rel="prefetch" href="/assets/js/16.80c4a0d4.js"><link rel="prefetch" href="/assets/js/17.82fc1443.js"><link rel="prefetch" href="/assets/js/18.2e9f710d.js"><link rel="prefetch" href="/assets/js/19.4eed8fe9.js"><link rel="prefetch" href="/assets/js/20.469934de.js"><link rel="prefetch" href="/assets/js/21.e3fa6ba0.js"><link rel="prefetch" href="/assets/js/22.0beaf5d2.js"><link rel="prefetch" href="/assets/js/23.130fd327.js"><link rel="prefetch" href="/assets/js/24.8ce3b24e.js"><link rel="prefetch" href="/assets/js/25.271b9599.js"><link rel="prefetch" href="/assets/js/26.f941e174.js"><link rel="prefetch" href="/assets/js/27.84344e54.js"><link rel="prefetch" href="/assets/js/28.3bfecc37.js"><link rel="prefetch" href="/assets/js/29.90b3c688.js"><link rel="prefetch" href="/assets/js/3.f7a383b9.js"><link rel="prefetch" href="/assets/js/30.451cb54c.js"><link rel="prefetch" href="/assets/js/31.357799d4.js"><link rel="prefetch" href="/assets/js/32.784d0958.js"><link rel="prefetch" href="/assets/js/33.9403c62c.js"><link rel="prefetch" href="/assets/js/34.f5ac41fd.js"><link rel="prefetch" href="/assets/js/35.e4d98414.js"><link rel="prefetch" href="/assets/js/36.e1e79ec0.js"><link rel="prefetch" href="/assets/js/37.396e39ce.js"><link rel="prefetch" href="/assets/js/38.da0df9cc.js"><link rel="prefetch" href="/assets/js/39.170595e3.js"><link rel="prefetch" href="/assets/js/4.b7832e17.js"><link rel="prefetch" href="/assets/js/5.8ff97832.js"><link rel="prefetch" href="/assets/js/6.7f764e25.js"><link rel="prefetch" href="/assets/js/7.46596a68.js"><link rel="prefetch" href="/assets/js/8.addc605c.js"><link rel="prefetch" href="/assets/js/9.8fa6be7e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7868826c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/Kin.ico" alt="Kinron" class="logo"> <span class="site-name can-hide">Kinron</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/abandon/" class="nav-link router-link-active">
  旧版
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/front/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/abandon/" class="nav-link router-link-active">
  旧版
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>旧版笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/abandon/JS.html" aria-current="page" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abandon/JS.html#变量定义" class="sidebar-link">变量定义</a></li><li class="sidebar-sub-header"><a href="/abandon/JS.html#类型转换" class="sidebar-link">类型转换</a></li><li class="sidebar-sub-header"><a href="/abandon/JS.html#函数定义" class="sidebar-link">函数定义</a></li><li class="sidebar-sub-header"><a href="/abandon/JS.html#关键字" class="sidebar-link">关键字</a></li><li class="sidebar-sub-header"><a href="/abandon/JS.html#内置对象" class="sidebar-link">内置对象</a></li><li class="sidebar-sub-header"><a href="/abandon/JS.html#数据存储" class="sidebar-link">数据存储</a></li><li class="sidebar-sub-header"><a href="/abandon/JS.html#dom" class="sidebar-link">DOM</a></li><li class="sidebar-sub-header"><a href="/abandon/JS.html#防抖节流" class="sidebar-link">防抖节流</a></li></ul></li><li><a href="/abandon/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/abandon/vue.html" class="sidebar-link">Vue</a></li><li><a href="/abandon/uniapp.html" class="sidebar-link">uniapp</a></li><li><a href="/abandon/TS.html" class="sidebar-link">Typescript</a></li><li><a href="/abandon/nuxt.html" class="sidebar-link">Nuxt</a></li><li><a href="/abandon/lodash.html" class="sidebar-link">lodash</a></li><li><a href="/abandon/react.html" class="sidebar-link">React</a></li><li><a href="/abandon/angular.html" class="sidebar-link">Angular</a></li><li><a href="/abandon/babylon.html" class="sidebar-link">babylon</a></li><li><a href="/abandon/eslint.html" class="sidebar-link">eslint</a></li><li><a href="/abandon/rule.html" class="sidebar-link">代码规范</a></li><li><a href="/abandon/linr.html" class="sidebar-link">常用方法</a></li><li><a href="/abandon/java.html" class="sidebar-link">Java</a></li><li><a href="/abandon/arduino.html" class="sidebar-link">arduino</a></li><li><a href="/abandon/other.html" class="sidebar-link">other</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <h2 id="变量定义"><a href="#变量定义" class="header-anchor">#</a> 变量定义</h2> <p>var（全局变量），let（局部变量），const（常量）</p> <blockquote><p>let 不能在定义之前访问该变量，不能被重新定义，无法在作用域外调用</p> <p>const定义的值不可修改，不能被重新定义</p> <p>!!num : 将数值强制转换为布尔值</p></blockquote> <h2 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h2> <p>内置数据类型： <code>null</code>，<code>undefined</code>，<code>boolean</code>，<code>number</code>，<code>string</code>，<code>symbol</code></p> <p>typeof对于基本类型，除了 <code>null</code> 都可以显示正确的类型</p> <p>Boolean除了 <code>undefined</code>， <code>null</code>， <code>false</code>， <code>NaN</code>， <code>''</code>， <code>0</code>， <code>-0</code>，其他值都转为 true</p> <p>四则运算：数值连接字符串结果为字符串；数组与字符串连接只取[]内的内容</p> <h2 id="函数定义"><a href="#函数定义" class="header-anchor">#</a> 函数定义</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">2</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 设置默认值(ES6)，不能有同名参数</span>
<span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>a<span class="token operator">+</span>b<span class="token punctuation">}</span> <span class="token comment">// 箭头函数，同一行可省略{}，单参数可省略()，无参数必须保留</span>
</code></pre></div><blockquote><p>this: 函数中所属的对象；单独使用为全局对象；严格模式未定义；箭头函数外层this对象</p> <p>函数参数以对象的形式传入，可以忽略其先后顺序</p></blockquote> <h2 id="关键字"><a href="#关键字" class="header-anchor">#</a> 关键字</h2> <h3 id="new"><a href="#new" class="header-anchor">#</a> new</h3> <p>运算符优先级</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Foo<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Foo<span class="token punctuation">.</span>getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// -&gt; 1，执行getName()</span>
<span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; 2，执行Foo()产生实例，再通过原型链找到getName()</span>
</code></pre></div><blockquote><p>new Foo() 的优先级大于 new Foo</p></blockquote> <h2 id="内置对象"><a href="#内置对象" class="header-anchor">#</a> 内置对象</h2> <p>instanceof判断对象的类型</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token comment">// true</span>
obj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="object"><a href="#object" class="header-anchor">#</a> Object</h3> <h4 id="基础方法"><a href="#基础方法" class="header-anchor">#</a> 基础方法</h4> <p>创建及调用方式</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'Kin'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Lin'</span> <span class="token comment">// 直接调用</span>
obj<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Lin'</span> <span class="token comment">//key值调用</span>
obj<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'男'</span> <span class="token comment">// 加key并赋值</span>
test <span class="token operator">=</span> <span class="token punctuation">{</span>test<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token operator">...</span>obj<span class="token punctuation">}</span> <span class="token comment">//(ES6)对象解构</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">{</span>email<span class="token operator">:</span> <span class="token string">'1451@de.com'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// (ES6)对象加值</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span> <span class="token comment">// (ES6)与'==='类似</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// (ES5)将对象中的key值整合为数组</span>
</code></pre></div><blockquote><p>ES6属性名与属性值相同时只写一个</p> <p>prototype对象是原始对象，可通过此对象添加属性和方法</p> <p>每个对象都有 <code>__proto__</code> 属性，对象可以通过 <code>__proto__</code> 来寻找不属于该对象的属性，<code>__proto__</code> 将对象连接起来组成了原型链</p></blockquote> <h4 id="场景案例"><a href="#场景案例" class="header-anchor">#</a> 场景案例</h4> <ul><li>对象判空</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;{}&quot;</span>
</code></pre></div><ul><li>遍历对象</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// foo</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>传入一个<strong>特定位置</strong>含有对应字段的值，判断该值属于哪个类型</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'note.txt'</span>
<span class="token keyword">const</span> file<span class="token operator">:</span> any <span class="token operator">=</span> <span class="token punctuation">{</span>pdf<span class="token operator">:</span> <span class="token string">'演示稿'</span><span class="token punctuation">,</span>doc<span class="token operator">:</span> <span class="token string">'文档'</span><span class="token punctuation">,</span>xls<span class="token operator">:</span> <span class="token string">'表格'</span><span class="token punctuation">,</span>txt<span class="token operator">:</span> <span class="token string">'文本'</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> tmpStr<span class="token operator">:</span> string <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span>name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">//文件截取后缀名</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> file<span class="token punctuation">[</span>tmpStr<span class="token punctuation">]</span>
</code></pre></div><h3 id="array"><a href="#array" class="header-anchor">#</a> Array</h3> <h4 id="基础方法-2"><a href="#基础方法-2" class="header-anchor">#</a> 基础方法</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>array<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span>arr2<span class="token punctuation">)</span> <span class="token comment">//参数：两个数组，合并数组</span>
array<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//删除数组尾部</span>
array<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//删除数组头部</span>
array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token comment">//数组尾部追加</span>
array<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span>num<span class="token punctuation">)</span> <span class="token comment">//参数：索引、个数，删除指定索引的数值</span>
array<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">//排序</span>
array<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">//转置</span>
array<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">//数组转字符串</span>
array<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>str<span class="token operator">|</span>num<span class="token punctuation">)</span> <span class="token comment">//参数：字符串或数值，以指定内容为连接符将数组转化为字符串</span>
array<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token comment">//(ES6)数组是否包含指定值，减少if的使用</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token comment">// 便利数组，类数组的对象</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token comment">// 便利对象</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//数组循环，无返回值</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 处理数组每一项并返回一个数组</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 过滤不符合条件的内容，即：return一个true的结果</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'存储值'</span> <span class="token operator">+</span> prev<span class="token punctuation">,</span> <span class="token string">'当前值'</span> <span class="token operator">+</span> next<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 数组每处理好一项，返回一个值</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)将输入的参数合为一个数组</span>
<span class="token comment">// [1,2,3]</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>b<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>c<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token operator">:</span><span class="token string">'1'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">:</span><span class="token string">'2'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">:</span><span class="token string">'3'</span><span class="token punctuation">,</span>length<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//类数组对象写法</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">//(ES6)将类数组对象或可迭代对象转化为数组</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)查找符合条件的元素，如有多个，只返回第一个</span>

arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)同上，但只返回索引</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>start<span class="token punctuation">,</span>end<span class="token punctuation">)</span> <span class="token comment">//(ES6)填充数组</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// [1,1,1,1]</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)数组中所有项都满足某条件</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>array<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)数组中是否有某一项满足条件</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 以下返回的是generator函数，可通过next()输出对应的值</span>
<span class="token keyword">const</span> tmp <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)遍历键值对</span>
<span class="token keyword">const</span> tmp <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)遍历键名</span>
<span class="token keyword">const</span> tmp <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)遍历键值</span>
tmp<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//输出</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">...</span>arr <span class="token comment">//(ES6)数组解构</span>
</code></pre></div><h4 id="场景案例-2"><a href="#场景案例-2" class="header-anchor">#</a> 场景案例</h4> <ul><li>根据日期排序</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  time<span class="token operator">:</span><span class="token string">'2021-07-6 18:21:00'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  time<span class="token operator">:</span><span class="token string">'2021-07-08 17:53:00'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  time<span class="token operator">:</span><span class="token string">'2021-07-05 09:28:00'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  time<span class="token operator">:</span><span class="token string">'2021-05-19 19:38:00'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  time<span class="token operator">:</span><span class="token string">'2021-06-19 17:11:00'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token function">dateData</span><span class="token punctuation">(</span><span class="token parameter">property</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> value1 <span class="token operator">=</span> a<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
        <span class="token keyword">const</span> value2 <span class="token operator">=</span> b<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
        <span class="token keyword">return</span> Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>value2<span class="token punctuation">)</span> <span class="token operator">-</span> Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>value1<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dateData</span><span class="token punctuation">(</span><span class="token string">'time'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="number"><a href="#number" class="header-anchor">#</a> Number</h3> <p>数值类型的转换，默认为浮点型</p> <h4 id="基础方法-3"><a href="#基础方法-3" class="header-anchor">#</a> 基础方法</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 转数值型</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 转浮点型</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 转整型</span>
<span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//是否为空</span>
</code></pre></div><h4 id="场景案例-3"><a href="#场景案例-3" class="header-anchor">#</a> 场景案例</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 布尔型转数值型</span>
bool <span class="token operator">=</span> <span class="token boolean">true</span>
num <span class="token operator">=</span> bool <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span>
num <span class="token operator">=</span> <span class="token operator">+</span>bool
num <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span>
<span class="token comment">// 数值型转布尔型</span>
num <span class="token operator">=</span> <span class="token number">1</span>
bool <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
bool <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>num
</code></pre></div><h3 id="string"><a href="#string" class="header-anchor">#</a> String</h3> <h4 id="基础方法-4"><a href="#基础方法-4" class="header-anchor">#</a> 基础方法</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token comment">//获取指定索引的字符</span>
str<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token comment">//连接多个字符串</span>
str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span> <span class="token comment">//获取字符串中指定子串的索引</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span> string<span class="token punctuation">)</span> <span class="token comment">//字符串的替换</span>
str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//参数：索引、长度，截取字符串长度，长度为选填参数</span>
str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token comment">//以指定子串将字符串分割为数组</span>
str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)判断是否存在字符串</span>
str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;he&quot;</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)判断头部是否为此字符串</span>
str<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;Kin&quot;</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)判断尾部</span>
str<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//(ES6)字符串重复</span>
</code></pre></div><blockquote><p>字符串反引号可以传入一个变量值</p></blockquote> <h3 id="regexp"><a href="#regexp" class="header-anchor">#</a> RegExp</h3> <h4 id="基础方法-5"><a href="#基础方法-5" class="header-anchor">#</a> 基础方法</h4> <table><thead><tr><th style="text-align:left;">修饰符</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:left;">[0-9], [a-z]</td> <td>查找任何从 0 至 9 的数字，a至z的字符</td></tr> <tr><td style="text-align:left;">^, $</td> <td>开始位置，结束位置</td></tr> <tr><td style="text-align:left;">{n}</td> <td>n 是一个非负整数。匹配确定的 n 次</td></tr> <tr><td style="text-align:left;">\d</td> <td>匹配一个（）非数字字符，等价于 [0-9]</td></tr> <tr><td style="text-align:left;">w</td> <td>匹配字母、数字、下划线。等价于'[A-Za-z0-9_]'</td></tr></tbody></table> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> pat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">)</span>
pat<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;The best things&quot;</span><span class="token punctuation">)</span> <span class="token comment">//搜索字符串指定的值，返回真或假</span>
pat<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&quot;The best things&quot;</span><span class="token punctuation">)</span> <span class="token comment">//检索字符串指定的值，返回被找到的值或返回null</span>
</code></pre></div><h4 id="场景案例-4"><a href="#场景案例-4" class="header-anchor">#</a> 场景案例</h4> <ul><li>验证手机号</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1+(3|4|5|6|7|8|9)\\d{9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'12345678947'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>验证邮箱</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'kin@12.com'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>验证身份证号码</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'11010519880605371X'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>获取字符串中的数字</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> s <span class="token operator">=</span><span class="token string">&quot;价格4500元&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num<span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^0-9]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4500</span>
</code></pre></div><h3 id="date"><a href="#date" class="header-anchor">#</a> Date</h3> <h4 id="基础方法-6"><a href="#基础方法-6" class="header-anchor">#</a> 基础方法</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 年月日</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 时分秒</span>
</code></pre></div><h3 id="math"><a href="#math" class="header-anchor">#</a> Math</h3> <h4 id="基础方法-7"><a href="#基础方法-7" class="header-anchor">#</a> 基础方法</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//四舍五入</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//生成 [0,9] 的随机数</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">+</span>n <span class="token comment">//生成 [0+n,9+n] 的随机数</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>n<span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">//生成 [0,n*10-1] 的随机数</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">-</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span>m <span class="token comment">//生成 [m,n] 的随机数</span>
</code></pre></div><h3 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h3> <p>symbol(ES6)定义的属性值都是不相等的，有多种写法</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> sy <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> syObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
syObject<span class="token punctuation">[</span>sy<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;kk&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>syObject<span class="token punctuation">)</span> <span class="token comment">// {Symbol(key1): &quot;kk&quot;}</span>
</code></pre></div><h3 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h3> <h4 id="基础方法-8"><a href="#基础方法-8" class="header-anchor">#</a> 基础方法</h4> <p>Promise是ES6新增加的类，目的是更加优雅地书写复杂的异步任务</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//成功时返回的函数    </span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'fail'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//失败时返回的函数</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//then方法接收resolve和reject函数</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>promise执行时无法中途取消</p></blockquote> <h3 id="generator函数"><a href="#generator函数" class="header-anchor">#</a> Generator函数</h3> <p>在function后有个*，函数内部有yield表达式</p> <p>函数通过next()方法调用，函数执行至yieId时停止执行并返回一个指向内部状态对象的指针</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    yieId <span class="token string">'1'</span><span class="token punctuation">;</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;two&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">yield</span> <span class="token string">'2'</span><span class="token punctuation">;</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;three&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">'3'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
f<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="async函数"><a href="#async函数" class="header-anchor">#</a> async函数</h3> <p>async 函数返回一个Promise对象，可以使用 then 方法添加回调函数</p> <p>await 操作符用于等待一个 Promise 对象, 它只能在异步函数 async function 内部使用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'xx'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>接口调用规范</p> <ul><li><p>调用接口要采用异步的方式</p></li> <li><p>接口调用后要判断返回值是否为空</p></li> <li><p>在页面数据显示有问题时，可以从接口得到的数据这开始找原因</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token function">handleGetlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> code<span class="token punctuation">,</span> msg <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">apiGetlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$consts<span class="token punctuation">.</span><span class="token constant">RET_CODE</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$toast</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="数据存储"><a href="#数据存储" class="header-anchor">#</a> 数据存储</h2> <h4 id="基础方法-9"><a href="#基础方法-9" class="header-anchor">#</a> 基础方法</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//保存数据</span>
localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读取数据</span>
localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//删除单个数据</span>
localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//删除所有数据</span>
localStorage<span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到某个索引的key</span>
</code></pre></div><blockquote><p>sessionStorage与localStorage相同</p></blockquote> <h2 id="dom"><a href="#dom" class="header-anchor">#</a> DOM</h2> <h3 id="基础方法-10"><a href="#基础方法-10" class="header-anchor">#</a> 基础方法</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;id_name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取单个ID</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//返回HTMLCollection(标签)对象数组</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;class_name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//返回NodeList(类)对象数组</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//内部所有的标签和属性</span>
<span class="token comment">// 节点和属性操作</span>
<span class="token keyword">var</span> tmp <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;id_name&quot;</span><span class="token punctuation">)</span>
tmp<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">)</span> <span class="token comment">//创建&lt;p&gt;元素</span>
tmp<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token comment">//添加&lt;a&gt;元素</span>
tmp<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token comment">//移除&lt;a&gt;元素</span>
tmp<span class="token punctuation">.</span>getAttribute <span class="token comment">//获取属性</span>
tmp<span class="token punctuation">.</span>setAttribute <span class="token comment">//设置属性</span>
tmp<span class="token punctuation">.</span>removeAttribute <span class="token comment">//删除属性</span>
</code></pre></div><h3 id="场景案例-5"><a href="#场景案例-5" class="header-anchor">#</a> 场景案例</h3> <ul><li>原始内容复制到剪切板</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> inputTest <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span> <span class="token comment">//创建一个输入框</span>
inputTest<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>applyUrl <span class="token comment">//绑定一个待复制的值</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>inputTest<span class="token punctuation">)</span> <span class="token comment">//添加节点</span>
inputTest<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span><span class="token string">'Copy'</span><span class="token punctuation">)</span> <span class="token comment">//设置复制指令</span>
inputTest<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'oInput'</span> <span class="token comment">//添加类名</span>
inputTest<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span> <span class="token comment">//销毁属性</span>
</code></pre></div><ul><li>锚点滑动定位</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> height <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetTop <span class="token comment">//滚动条高度</span>
window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
    top<span class="token operator">:</span> height<span class="token punctuation">,</span> 
    behavior<span class="token operator">:</span> <span class="token string">&quot;smooth&quot;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="防抖节流"><a href="#防抖节流" class="header-anchor">#</a> 防抖节流</h2> <h3 id="基础方法-11"><a href="#基础方法-11" class="header-anchor">#</a> 基础方法</h3> <p>在第一次触发事件时，不立即执行函数，而是给出一个期限值比如200ms</p> <p>如果短时间内大量触发同一事件，只会执行一次函数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>delay</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">//借助闭包</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span> 
        <span class="token punctuation">}</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span>delay<span class="token punctuation">)</span> <span class="token comment">// 简化写法</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>函数执行一次后，在某个时间段内暂时失效，过了这段时间后再重新激活</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>delay</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> valid <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>valid<span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token comment">//休息时间 暂不接客</span>
           <span class="token keyword">return</span> <span class="token boolean">false</span> 
       <span class="token punctuation">}</span>
       <span class="token comment">// 工作时间，执行函数并且在间隔期内把状态位设为无效</span>
        valid <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            valid <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="场景案例-6"><a href="#场景案例-6" class="header-anchor">#</a> 场景案例</h3> <p>debounce</p> <ul><li>search搜索联想，用户在不断输入值时，用防抖来节约请求资源</li> <li>window触发resize的时候，不断的调整浏览器窗口大小会不断的触发这个事件，用防抖来让其只触发一次</li></ul> <p>throttle</p> <ul><li>鼠标不断点击触发，mousedown(单位时间内只触发一次)</li> <li>监听滚动事件，比如是否滑到底部自动加载更多，用throttle来判断</li></ul> <h1 id="es6新特性"><a href="#es6新特性" class="header-anchor">#</a> ES6新特性</h1> <ul><li>let，const变量申明</li> <li>import导入模块、export导出模块</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> people <span class="token keyword">from</span> <span class="token string">'./example'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> App
</code></pre></div><ul><li>class类、extends继承、super</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'animal'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'cat'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>箭头函数 <code>()=&gt;{}</code></p></li> <li><p>模板字符串，字符串新方法 <code>includes</code> , <code>repeat</code></p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">数值为</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>num<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</code></pre></div><ul><li>数组、对象解构</li> <li>函数定义默认参数</li> <li>对象简写，对象新方法 <code>assign</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>str<span class="token operator">:</span> str<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 等同于 obj = {str}</span>
</code></pre></div><ul><li>promise同步方式写异步代码</li> <li>generator是能返回一个迭代器的函数</li></ul> <p><strong>require与import的区别</strong></p> <ul><li>require/exports 是运行时动态加载，import/export 是静态编译</li> <li>require/exports 输出的是一个值的拷贝，import/export 模块输出的是值的引用</li> <li>用法不一致，import/export 不能对引入模块重新赋值/定义；import/export 只能在模块顶层使用，不能在函数、判断语句等代码块之中引用；import/export 导出的模块默认调用严格模式</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/abandon/CSS.html">
        CSS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1de21937.js" defer></script><script src="/assets/js/2.babf9956.js" defer></script><script src="/assets/js/12.2b73f09d.js" defer></script>
  </body>
</html>